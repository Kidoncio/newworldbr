// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Post {
  id        Int     @default(autoincrement()) @id
  title     String
  content   String?
  published Boolean @default(false)
  author    User?   @relation(fields: [authorId], references: [id])
  authorId  Int?
}

model User {
  id            Int       @default(autoincrement()) @id
  name          String?
  email         String?   @unique
  createdAt     DateTime  @default(now()) @map(name: "created_at")
  updatedAt     DateTime  @updatedAt @map(name: "updated_at")
  posts         Post[]
  @@map(name: "users")
}

model Item {
    id                          Int       @default(autoincrement()) @id
    name                        String
    description                 String?
    type                        ItemType
    tier                        ItemTier?
    weight                      Float
    durability                  Int?
    baseGearScore               Int?
    salvageable                 Boolean
    repairable                  Boolean
    isTraded                    Boolean
    bindOnPickup                Boolean
    primaryUse                  ItemUse?
    equipType                   String?
    damageStatMultiplier        ItemDamageStatMultiplier?
    gatheringTypes              ItemGatheringTypes?
    gatheringMultiplier         Float?
    gatheringEfficiency         Float?
    primaryHand                 ItemHand?
    baseDamage                  Int?
    critDamageMultiplier        Float?
    baseStaggerDamager          Int?
    critStaggerDamageMultiplier Float?
    requiredStrength            Int?
    requiredDexteriry           Int?
    requiredIntelligence        Int?
    requiredSpirit              Int?
    scalingStrength             Float?
    scalingDexteriry            Int?
    scalingIntelligence         Float?
    scalingSpirit               Int?
    createdAt                   DateTime  @default(now()) @map(name: "created_at")
    updatedAt                   DateTime  @updatedAt @map(name: "updated_at")
    deletedAt                   DateTime?
}

enum ItemType {
  ammo
  armor
  consumable
  dye
  gem
  furniture
  resource
  weapon
}

enum ItemTier {
  tier0
  tier1
  tier2
  tier3
  tier4
  tier5
}

enum ItemClass {
  legs
  consumable
}

enum ItemRarity {
  common
  uncommon
  rare
  epic
  legendary
}

enum ItemUse {
  combatMelee
}

enum ItemDamageStatMultiplier {
  oneHandSwordDamage
}

enum ItemGatheringTypes {
  none
}

enum ItemHand {
  main
}